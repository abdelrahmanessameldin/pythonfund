<!DOCTYPE html>
<html>
<head>
	<title>Generate Python Script</title>
</head>
<body>
	<h1>Generate Python Script</h1>
	<form>
		<label for="prompt">Enter a prompt:</label><br>
		<input type="text" id="prompt" name="prompt"><br>
		<label for="file_name">Enter a file name:</label><br>
		<input type="text" id="file_name" name="file_name"><br>
		<button type="button" onclick="generateScript()">Generate Script</button>
	</form>
	<p id="output"></p>
	<script>
		function generateScript() {
			var promptInput = document.getElementById("prompt").value;
			var fileNameInput = document.getElementById("file_name").value;
			var xhr = new XMLHttpRequest();
			xhr.open("POST", "https://api.openai.com/v1/completions", true);
			xhr.setRequestHeader("Content-Type", "application/json");
			xhr.setRequestHeader("Authorization", "Bearer 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");
			xhr.onreadystatechange = function() {
				if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
					var responseText = JSON.parse(this.responseText);
					var scriptText = responseText.choices[0].text;
					var outputElement = document.getElementById("output");
					outputElement.innerHTML = "File generated successfully.";
					var link = document.createElement("a");
					link.download = fileNameInput + ".py";
					link.href = "data:text/plain;charset=utf-8," + encodeURIComponent(scriptText);
					link.click();
				} else if (this.readyState === XMLHttpRequest.DONE) {
					var outputElement = document.getElementById("output");
					outputElement.innerHTML = "API Request Failed with status code " + this.status;
				}
			};
			var requestBody = JSON.stringify({
				"model": "text-davinci-003",
				"prompt":  promptInput,
				"max_tokens": 1000,
				"temperature": 0.5
			});
			xhr.send(requestBody);
		}
	</script>
</body>
</html>
